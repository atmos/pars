! Configuration File for keepalived

global_defs {
#   notification_email {
#     sysadmin@engineyard.com
#   }
#   notification_email_from sysadmin@engineyard.com
#   smtp_server 10.0.192.19
#   smtp_connect_timeout 30
   lvs_id za00-gw00
}

vrrp_sync_group VRRP1 {
  group {
    external
    internal
  }
  notify_master /etc/keepalived/be_master
  notify_backup /etc/keepalived/be_backup
}

vrrp_sync_group DNS1 {
  group {
    dns1_int
    dns1_ext
  }
  notify_master /etc/keepalived/dns1_master
  notify_backup /etc/keepalived/dns1_backup
}

vrrp_sync_group DNS2 {
  group {
    dns2_int
    dns2_ext
  }
  notify_master /etc/keepalived/dns2_master
  notify_backup /etc/keepalived/dns2_backup
}

vrrp_instance external {
    state MASTER
    interface external
    #lvs_sync_daemon_interface external
    #mcast_src_ip 65.74.150.75
    virtual_router_id 51
    priority 100
    advert_int 1
    authentication {
        auth_type PASS
        auth_pass 678k435b24h578l<F6>6
    }
    virtual_ipaddress {
      65.74.150.80/27 dev external
      65.74.146.162/27 dev external
      65.74.146.165/27 dev external
      65.74.146.166/27 dev external
      65.74.146.167/27 dev external
      65.74.146.168/27 dev external
      65.74.146.169/27 dev external
      65.74.146.170/27 dev external
      65.74.146.171/27 dev external
      65.74.146.172/27 dev external
      65.74.146.173/27 dev external
      65.74.146.174/27 dev external
      65.74.146.175/27 dev external
      65.74.146.176/27 dev external
      65.74.146.177/27 dev external
    }
    #virtual_routes {
    #  default via 65.74.150.65 src 65.74.150.80 dev external
    #}
}

vrrp_instance internal {
    state MASTER
    interface internal
    #lvs_sync_daemon_interface internal
    #mcast_src_ip 10.0.0.58
    virtual_router_id 52
    priority 100
    advert_int 1
    authentication {
        auth_type PASS
        auth_pass 678k435b24h578l<F6>6
    }
    virtual_ipaddress {
     10.0.0.60/26 dev internal
     10.0.0.61/26 dev internal
    }
}

vrrp_instance dns1_int {
  state MASTER
  interface internal
  virtual_router_id 53
  priority 100
  advert_int 1
  authentication {
      auth_type PASS
      auth_pass 678k435b24h578l<F6>6
  }
  virtual_ipaddress {
    10.0.0.56/26 dev internal
  }
}

vrrp_instance dns1_ext {
  state MASTER
  interface external
  virtual_router_id 54
  priority 100
  advert_int 1
  authentication {
      auth_type PASS
      auth_pass 678k435b24h578l<F6>6
  }
  virtual_ipaddress {
    65.74.146.163/27 dev external
  }
}

vrrp_instance dns2_int {
  state BACKUP
  interface internal
  virtual_router_id 55
  priority 50
  advert_int 1
  authentication {
      auth_type PASS
      auth_pass 678k435b24h578l<F6>6
  }
  virtual_ipaddress {
    10.0.0.57/26 dev internal
  }
}

vrrp_instance dns2_ext {
  state BACKUP
  interface external
  virtual_router_id 56
  priority 50
  advert_int 1
  authentication {
      auth_type PASS
      auth_pass 678k435b24h578l<F6>6
  }
  virtual_ipaddress {
    65.74.146.164/28 dev external
  }
}

#incoming staging email servers
virtual_server 65.74.146.167 25 {
  delay_loop 30
  lb_algo wlc
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.43 25 {
    weight 1
    TCP_CHECK {
      connect_port 25
      connect_timeout 3
    }
  }
  real_server 10.0.192.44 25 {
    weight 1
    TCP_CHECK {
      connect_port 25
      connect_timeout 3
    }
  }
}

#outgoing production smtp
virtual_server 10.0.0.61 25 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.19 25 {
    weight 1
    SMTP_CHECK {
      host {
        connect_ip 10.0.192.19
        connect_port 25
      }
      connect_timeout 2
      #retry 5
      #delay_before_retry 2
    }
  }
  real_server 10.0.192.21 25 {
    weight 1
    SMTP_CHECK {
      host {
        connect_ip 10.0.192.21
        connect_port 25
      }
      connect_timeout 2
      #retry 5
      #delay_before_retry 2
    }
  }
}

#incoming production email servers
virtual_server 65.74.146.168 25 {
  delay_loop 30
  lb_algo wlc
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.22 25 {
    weight 1
    TCP_CHECK {
      connect_port 25
      connect_timeout 3
    }
  }
  real_server 10.0.192.23 25 {
    weight 1
    TCP_CHECK {
      connect_port 25
      connect_timeout 3
    }
  }
}

#staging Solr Server
virtual_server 65.74.146.165 8080 {
  delay_loop 30
  lb_algo wlc
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.37 8080 {
    weight 1
    TCP_CHECK {
      connect_port 8080
      connect_timeout 3
    }
  }
}

#Production Solr Server 0
virtual_server 65.74.146.166 8080 {
  delay_loop 30
  lb_algo wlc
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.16 8080 {
    weight 1
    TCP_CHECK {
      connect_port 8080
      connect_timeout 3
    }
  }
}

#Production Solr Server 1
virtual_server 65.74.146.166 8081 {
  delay_loop 30
  lb_algo wlc
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.17 8080 {
    weight 1
    TCP_CHECK {
      connect_port 8080
      connect_timeout 3
    }
  }
}

#Production Solr Server 2
virtual_server 65.74.146.166 8082 {
  delay_loop 30
  lb_algo wlc
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.18 8080 {
    weight 1
    TCP_CHECK {
      connect_port 8080
      connect_timeout 3
    }
  }
}

#Staging HTTP Server
virtual_server 65.74.146.165 80 {
  delay_loop 30
  lb_algo nq
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
	virtualhost www.gaia-staging.com
  sorry_server 127.0.0.1 80
  real_server 10.0.192.25 80 {
    weight 1
		HTTP_GET {
			url {
				path /ey_health_check
				status_code 200
			}
      connect_port 80
      connect_timeout 30
      nb_get_retry 20
      delay_before_retry 5
    }
  }
  real_server 10.0.192.26 80 {
    weight 1
		HTTP_GET {
			url {
				path /ey_health_check
				status_code 200
			}
      connect_port 80
      connect_timeout 30
      nb_get_retry 20
      delay_before_retry 5
    }
  }
}

#Staging HTTPS Server
virtual_server 65.74.146.165 443 {
  delay_loop 30
  lb_algo nq
  lb_kind NAT
  persistence_timeout 0
	virtualhost www.gaia-staging.com
  protocol TCP
  sorry_server 127.0.0.1 80
  real_server 10.0.192.25 443 {
    weight 1
		SSL_GET {
			url {
				path /ey_health_check
				status_code 200
			}
      connect_port 443
      connect_timeout 30
      nb_get_retry 20
      delay_before_retry 5
    }
  }
  real_server 10.0.192.26 443 {
    weight 1
		SSL_GET {
			url {
				path /ey_health_check
				status_code 200
			}
      connect_port 443
      connect_timeout 30
      nb_get_retry 20
      delay_before_retry 5
    }
  }
}

#Staging HTTP Server gaimyogaclub
virtual_server 65.74.146.174 80 {
  delay_loop 30
  lb_algo nq
  lb_kind NAT
  persistence_timeout 0
  virtualhost staging.gaiamyogaclub.com
  protocol TCP
  sorry_server 127.0.0.1 80
  real_server 10.0.192.25 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 5
      nb_get_retry 0
      delay_before_retry 5
    }
  }
  real_server 10.0.192.26 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 5
      nb_get_retry 0
      delay_before_retry 5
    }
  }
}


#Staging HTTPS Server gaimyogaclub     
virtual_server 65.74.146.174 443 {
  delay_loop 30
  lb_algo nq
  lb_kind NAT
  persistence_timeout 0
  virtualhost staging.gaiamyogaclub.com
  protocol TCP
  sorry_server 127.0.0.1 443
  real_server 10.0.192.25 444 {
    weight 1   
    TCP_CHECK {
      connect_port 444
      connect_timeout 5
      nb_get_retry 0
      delay_before_retry 5
    }
  }

  real_server 10.0.192.26 444 {
    weight 1
    TCP_CHECK {
      connect_port 444
      connect_timeout 5
      nb_get_retry 0
      delay_before_retry 5
    }
  }

}

#Production HTTP Server
virtual_server 65.74.146.166 80 {
  delay_loop 30
  lb_algo nq
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
	virtualhost www.gaia.com
  sorry_server 127.0.0.1 80
  real_server 10.0.192.4 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 5
      nb_get_retry 0
      delay_before_retry 5
    }
  }
  real_server 10.0.192.5 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 5
      nb_get_retry 5
      delay_before_retry 10
    }
  }
  real_server 10.0.192.6 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 5
      nb_get_retry 5
      delay_before_retry 10
    }
  }
  real_server 10.0.192.54 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 5
      nb_get_retry 5
      delay_before_retry 10
    }
  }
}

#Production HTTPS Server
virtual_server 65.74.146.166 443 {
  delay_loop 30
  lb_algo nq
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
	virtualhost www.gaia.com
  sorry_server 127.0.0.1 80
  real_server 10.0.192.4 443 {
    weight 1
    TCP_CHECK {
      connect_port 443
      connect_timeout 5
      nb_get_retry 20
      delay_before_retry 5
    }
  }
  real_server 10.0.192.5 443 {
    weight 1
    TCP_CHECK {
      connect_port 443
      connect_timeout 5
      nb_get_retry 20
      delay_before_retry 5
    }
  }
  real_server 10.0.192.6 443 {
    weight 1
    TCP_CHECK {
      connect_port 443
      connect_timeout 5
      nb_get_retry 20
      delay_before_retry 5
    }
  }
  real_server 10.0.192.54 443 {
    weight 1
    TCP_CHECK {
      connect_port 443
      connect_timeout 5
      nb_get_retry 20
      delay_before_retry 5
    }
  }
}

#Production HTTP Server gaiamyogaclub
virtual_server 65.74.146.177 80 {
  delay_loop 30
  lb_algo nq
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
        virtualhost www.gaiamyogaclub.com
  sorry_server 127.0.0.1 80
  real_server 10.0.192.4 80 {
    weight 1
    TCP_CHECK {
      connect_port 443
      connect_timeout 5
      nb_get_retry 20
      delay_before_retry 5
    }
  }
  real_server 10.0.192.5 80 {
    weight 1
    TCP_CHECK {
      connect_port 444
      connect_timeout 5
      nb_get_retry 20
      delay_before_retry 5
    }
  }
  real_server 10.0.192.6 80 {
    weight 1
    TCP_CHECK {
      connect_port 444
      connect_timeout 5
      nb_get_retry 20
      delay_before_retry 5
    }
  }
  real_server 10.0.192.54 80 {
    weight 1
    TCP_CHECK {
      connect_port 444
      connect_timeout 5
      nb_get_retry 20
      delay_before_retry 5
    }
  }
}

#Production HTTPS Server gaiamyogaclub SSL
virtual_server 65.74.146.177 443 {
  delay_loop 30
  lb_algo nq
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
        virtualhost www.gaiamyogaclub.com
  sorry_server 127.0.0.1 80
  real_server 10.0.192.4 444 {
    weight 1
    TCP_CHECK {
      connect_port 443
      connect_timeout 5
      nb_get_retry 20
      delay_before_retry 5
    }
  }
  real_server 10.0.192.5 444 {
    weight 1
    TCP_CHECK {
      connect_port 444
      connect_timeout 5
      nb_get_retry 20
      delay_before_retry 5
    }
  }
  real_server 10.0.192.6 444 {
    weight 1
    TCP_CHECK {
      connect_port 444
      connect_timeout 5
      nb_get_retry 20
      delay_before_retry 5
    }
  }
  real_server 10.0.192.54 444 {
    weight 1
    TCP_CHECK {
      connect_port 444
      connect_timeout 5
      nb_get_retry 20
      delay_before_retry 5
    }
  }
}




# Nagios monitoring server
virtual_server 65.74.146.172 80 {
  delay_loop 30
  lb_algo wlc
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.12 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 3
    }
  }
}

#nagios
virtual_server 65.74.146.172 80 {
  delay_loop 30
  lb_algo wlc
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.12 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 3
    }
  }
}

#svn/warehouse
virtual_server 65.74.146.162 80 {
  delay_loop 30
  lb_algo wlc
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.46 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 3
    }
  }
}

#svn/warehouse
virtual_server 65.74.146.162 443 {
  delay_loop 30
  lb_algo wlc
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.46 443 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 3
    }
  }
}

#QA Mongrels/Nginx
virtual_server 65.74.146.169 80 {
  sorry_server 127.0.0.1 80
  delay_loop 30
  lb_algo nq
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.48 80 {
    weight 1
		HTTP_GET {
			url {
				path /ey_health_check
				status_code 200
			}
      connect_port 80
      connect_timeout 30
      nb_get_retry 20
      delay_before_retry 5
    }
  }
  real_server 10.0.192.49 80 {
    weight 1
		HTTP_GET {
			url {
				path /ey_health_check
				status_code 200
			}
      connect_port 80
      connect_timeout 30
      nb_get_retry 20
      delay_before_retry 5
    }
  }
}

#QA Mongrels/Nginx 443
virtual_server 65.74.146.169 443 {
  sorry_server 127.0.0.1 443
  delay_loop 30
  lb_algo nq
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.48 443 {
    weight 1
    SSL_GET {
      url {
        path /ey_health_check
        status_code 200
          }
      connect_port 443
      connect_timeout 30
      nb_get_retry 20
      delay_before_retry 5
    }
  }
  real_server 10.0.192.49 443 {
    weight 1
    SSL_GET {
      url {
        path /ey_health_check
        status_code 200
          }
      connect_port 443
      connect_timeout 30
      nb_get_retry 20
      delay_before_retry 5
    }
  }
}

#QA Mongrels/Nginx
virtual_server 65.74.146.176 80 {
  sorry_server 127.0.0.1 80
  delay_loop 30
  lb_algo nq
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.48 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 5
      nb_get_retry 0
      delay_before_retry 5
    }
  }
  real_server 10.0.192.49 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 5
      nb_get_retry 0
      delay_before_retry 5
    }
  }
}


#QA Mongrels/Nginx 445
virtual_server 65.74.146.176 443 {
  sorry_server 127.0.0.1 443
  delay_loop 30
  lb_algo nq
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.48 445 {
    weight 1
    TCP_CHECK {
      connect_port 445
      connect_timeout 5
      nb_get_retry 0
      delay_before_retry 5
    }
  }
  real_server 10.0.192.49 445 {
    weight 1
    TCP_CHECK {
      connect_port 445
      connect_timeout 5
      nb_get_retry 0
      delay_before_retry 5
    }
  }
}

#QA smtp in
virtual_server 65.74.146.170 25 {
  delay_loop 30
  lb_algo wlc
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.52 25 {
    weight 1
    TCP_CHECK {
      connect_port 25
      connect_timeout 3
    }
  }
}

#zaadz testing
virtual_server 65.74.146.173 80 {
  delay_loop 30
  lb_algo wlc
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.57 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 3
    }
  }
}

#The rest are SSH tunnels....
virtual_server 65.74.150.80 7000 {
  delay_loop 30
  lb_algo wlc
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
  real_server 10.0.0.1 22 {
    weight 1
    TCP_CHECK {
      connect_port 22
      connect_timeout 3
    }
  }
}

virtual_server 65.74.150.80 7001 {
  delay_loop 30
  lb_algo wlc
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
  real_server 10.0.0.2 22 {
    weight 1
  }
}

virtual_server 65.74.150.80 7002 {
  delay_loop 30
  lb_algo wlc
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
  real_server 10.0.0.3 22 {
    weight 1
  }
}

virtual_server 65.74.150.80 7003 {
  delay_loop 30
  lb_algo wlc
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
  real_server 10.0.0.4 22 {
    weight 1
  }
}

virtual_server 65.74.150.80 7999 {
  delay_loop 30
  lb_algo wlc
  lb_kind NAT
  persistence_timeout 0
  protocol TCP
  real_server 10.0.127.1 22 {
    weight 1
    TCP_CHECK {
      connect_port 22
      connect_timeout 3
    }
  }
}


virtual_server 65.74.150.80 8000 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.1 22 {
  }
}


virtual_server 65.74.150.80 8001 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.2 22 {
  }
}


virtual_server 65.74.150.80 8002 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.3 22 {
  }
}


virtual_server 65.74.150.80 8003 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.4 22 {
  }
}


virtual_server 65.74.150.80 8004 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.5 22 {
  }
}


virtual_server 65.74.150.80 8005 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.6 22 {
  }
}


virtual_server 65.74.150.80 8006 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.7 22 {
  }
}


virtual_server 65.74.150.80 8007 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.8 22 {
  }
}


virtual_server 65.74.150.80 8008 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.9 22 {
  }
}


virtual_server 65.74.150.80 8009 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.10 22 {
  }
}


virtual_server 65.74.150.80 8010 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.11 22 {
  }
}


virtual_server 65.74.150.80 8011 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.12 22 {
  }
}


virtual_server 65.74.150.80 8012 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.13 22 {
  }
}


virtual_server 65.74.150.80 8013 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.14 22 {
  }
}


virtual_server 65.74.150.80 8014 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.15 22 {
  }
}


virtual_server 65.74.150.80 8015 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.16 22 {
  }
}


virtual_server 65.74.150.80 8016 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.17 22 {
  }
}


virtual_server 65.74.150.80 8017 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.18 22 {
  }
}


virtual_server 65.74.150.80 8018 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.19 22 {
  }
}


virtual_server 65.74.150.80 8019 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.20 22 {
  }
}


virtual_server 65.74.150.80 8020 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.21 22 {
  }
}


virtual_server 65.74.150.80 8021 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.22 22 {
  }
}


virtual_server 65.74.150.80 8022 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.23 22 {
  }
}


virtual_server 65.74.150.80 8023 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.24 22 {
  }
}


virtual_server 65.74.150.80 8024 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.25 22 {
  }
}


virtual_server 65.74.150.80 8025 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.26 22 {
  }
}


virtual_server 65.74.150.80 8026 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.27 22 {
  }
}


virtual_server 65.74.150.80 8027 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.28 22 {
  }
}


virtual_server 65.74.150.80 8028 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.29 22 {
  }
}


virtual_server 65.74.150.80 8029 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.30 22 {
  }
}


virtual_server 65.74.150.80 8030 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.31 22 {
  }
}


virtual_server 65.74.150.80 8031 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.32 22 {
  }
}


virtual_server 65.74.150.80 8032 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.33 22 {
  }
}


virtual_server 65.74.150.80 8033 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.34 22 {
  }
}


virtual_server 65.74.150.80 8034 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.35 22 {
  }
}


virtual_server 65.74.150.80 8035 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.36 22 {
  }
}


virtual_server 65.74.150.80 8036 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.37 22 {
  }
}


virtual_server 65.74.150.80 8037 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.38 22 {
  }
}


virtual_server 65.74.150.80 8038 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.39 22 {
  }
}


virtual_server 65.74.150.80 8039 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.40 22 {
  }
}


virtual_server 65.74.150.80 8040 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.41 22 {
  }
}


virtual_server 65.74.150.80 8041 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.42 22 {
  }
}


virtual_server 65.74.150.80 8042 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.43 22 {
  }
}


virtual_server 65.74.150.80 8043 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.44 22 {
  }
}


virtual_server 65.74.150.80 8044 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.45 22 {
  }
}


virtual_server 65.74.150.80 8045 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.46 22 {
  }
}


virtual_server 65.74.150.80 8046 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.47 22 {
  }
}


virtual_server 65.74.150.80 8047 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.48 22 {
  }
}


virtual_server 65.74.150.80 8048 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.49 22 {
  }
}


virtual_server 65.74.150.80 8049 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.50 22 {
  }
}


virtual_server 65.74.150.80 8050 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.51 22 {
  }
}


virtual_server 65.74.150.80 8051 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.52 22 {
  }
}


virtual_server 65.74.150.80 8052 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.53 22 {
  }
}

virtual_server 65.74.150.80 8053 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.54 22 {
  }
}

virtual_server 65.74.150.80 8054 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.55 22 {
  }
}

virtual_server 65.74.150.80 8055 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.56 22 {
  }
}

#ssh za00-s00056
virtual_server 65.74.150.80 8056 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.57 22 {
  }
}

#ssh za00-s00057
virtual_server 65.74.150.80 8057 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.58 22 {
  }
}

#ssh za00-s00058
virtual_server 65.74.150.80 8058 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.59 22 {
  }
}

#ssh za00-s00059
virtual_server 65.74.150.80 8059 {
  delay_loop 30
  lb_algo rr
  lb_kind NAT
  persistence_timeout 60
  protocol TCP
  real_server 10.0.64.60 22 {
  }
}

