! Configuration File for keepalived
! Note: Max of 20 ips per vrrp_instance. It's a limitation of the VRRP protocol

global_defs {
   #notification_email {
   #  # Add e-mail notifications
   #}
   #notification_email_from Alexandre.Cassen@firewall.loc
   #smtp_server 192.168.200.1
   #smtp_connect_timeout 30
   lvs_id hc00-gw00
}

vrrp_sync_group HC00_LBA {
  group {
    HC00_LBA_INT
    HC00_LBA_EXT1
 }
}

vrrp_instance HC00_LBA_INT {
    state MASTER
    interface external
    lvs_sync_daemon_interface internal
    virtual_router_id 50
    priority 100
    advert_int 3
    authentication {
        auth_type PASS
        auth_pass 1111
    }
    virtual_ipaddress {
        10.0.0.60 dev internal
        10.0.0.67 dev internal
        10.0.0.68 dev internal
        10.0.0.70 dev internal
        10.0.0.71 dev internal
        10.0.0.72 dev internal
    }
}

vrrp_instance HC00_LBA_EXT1 {
    state MASTER
    interface external
    lvs_sync_daemon_interface internal
    virtual_router_id 51
    priority 100
    advert_int 3
    authentication {
        auth_type PASS
        auth_pass 1111
    }
    virtual_ipaddress {
        65.74.181.4 dev external
        #65.74.139.5 dev external
        65.74.181.6 dev external
        65.74.181.7 dev external
        65.74.172.1/28 dev external # for outgoing smtp rewrite
        65.74.172.2 dev external
        65.74.172.5 dev external
				65.74.172.6 dev external #production Mongrel
	65.74.172.7 dev external
	65.74.172.8 dev external
	65.74.172.9 dev external
	65.74.172.10 dev external
	65.74.172.11 dev external
	65.74.172.12 dev external
	65.74.172.13 dev external
	65.74.172.14 dev external
	65.74.172.15 dev external
    }
}

#production
virtual_server 65.74.172.6 80 {
  sorry_server 127.0.0.1 80
  delay_loop 6
  lb_algo wlc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.13 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
  real_server 10.0.192.14 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
  real_server 10.0.192.15 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}

virtual_server 65.74.172.6 443 {
  sorry_server 127.0.0.1 443
  delay_loop 6
  lb_algo wlc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.13 443 {
    weight 1
    TCP_CHECK {
      connect_port 443
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
  real_server 10.0.192.14 443 {
    weight 1
    TCP_CHECK {
      connect_port 443
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
  real_server 10.0.192.15 443 {
    weight 1
    TCP_CHECK {
      connect_port 443
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}

#production facebook (to port 81)
virtual_server 65.74.172.7 80 {
  sorry_server 127.0.0.1 80
  delay_loop 6
  lb_algo wlc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.43 81 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
  real_server 10.0.192.44 81 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}

#production igoogle
virtual_server 65.74.172.8 80 {
  sorry_server 127.0.0.1 80
  delay_loop 6
  lb_algo wlc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.43 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
  real_server 10.0.192.44 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}

#staging facebook (to port 81)
virtual_server 65.74.172.9 80 {
  sorry_server 127.0.0.1 80
  delay_loop 6
  lb_algo wlc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.45 81 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
  real_server 10.0.192.46 81 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}

#staging igoogle
virtual_server 65.74.172.10 80 {
  sorry_server 127.0.0.1 80
  delay_loop 6
  lb_algo wlc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.45 80 {
    weight 1
    TCP_CHECK {
      connect_port 81
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
  real_server 10.0.192.46 80 {
    weight 1
    TCP_CHECK {
      connect_port 81
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}

# QA test addresses
virtual_server 65.74.172.11 80 {
  sorry_server 127.0.0.1 80
  delay_loop 6
  lb_algo wlc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.30 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
  real_server 10.0.192.31 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}

virtual_server 65.74.172.11 443 {
  sorry_server 127.0.0.1 443
  delay_loop 6
  lb_algo wlc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.30 443 {
    weight 1
    TCP_CHECK {
      connect_port 443
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
  real_server 10.0.192.31 443 {
    weight 1
    TCP_CHECK {
      connect_port 443
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}

virtual_server 65.74.172.12 80 {
  sorry_server 127.0.0.1 80
  delay_loop 6
  lb_algo wlc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.30 81 {
    weight 1
    TCP_CHECK {
      connect_port 81
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
  real_server 10.0.192.31 81 {
    weight 1
    TCP_CHECK {
      connect_port 81
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}

virtual_server 65.74.172.12 443 {
  sorry_server 127.0.0.1 443
  delay_loop 6
  lb_algo wlc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.30 444 {
    weight 1
    TCP_CHECK {
      connect_port 444
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
  real_server 10.0.192.31 444 {
    weight 1
    TCP_CHECK {
      connect_port 444
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}

virtual_server 65.74.172.13 80 {
  sorry_server 127.0.0.1 80
  delay_loop 6
  lb_algo wlc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.30 82 {
    weight 1
    TCP_CHECK {
      connect_port 82
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
  real_server 10.0.192.31 82 {
    weight 1
    TCP_CHECK {
      connect_port 82
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}

virtual_server 65.74.172.13 443 {
  sorry_server 127.0.0.1 443
  delay_loop 6
  lb_algo wlc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.30 445 {
    weight 1
    TCP_CHECK {
      connect_port 445
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
  real_server 10.0.192.31 445 {
    weight 1
    TCP_CHECK {
      connect_port 445
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}

# CC.rb production slice
virtual_server 65.74.172.14 80 {
  sorry_server 127.0.0.1 80
  delay_loop 6
  lb_algo wlc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.47 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}

#load testing slice
virtual_server 65.74.172.15 80 {
  sorry_server 127.0.0.1 80
  delay_loop 6
  lb_algo wlc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.48 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}

#svn.hc00.engineyard.com
virtual_server 10.0.0.71 80 {
  delay_loop 6
  lb_algo lc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.5 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}

#svn.hc00.engineyard.com SSL
virtual_server 10.0.0.71 443 {
  delay_loop 6
  lb_algo lc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.5 443 {
    weight 1
    TCP_CHECK {
      connect_port 443
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}

#smtp.hc00.engineyard.com
virtual_server 10.0.0.67 25 {
  delay_loop 6
  lb_algo lc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.6 25 {
    weight 1
    TCP_CHECK {
      connect_port 25
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
  real_server 10.0.192.7 25 {
    weight 1
    TCP_CHECK {
      connect_port 25
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}

#nagios
virtual_server 65.74.181.6 80 {
  delay_loop 6
  lb_algo lc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.9 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}

#svn
virtual_server 65.74.181.7 443 {
  delay_loop 6
  lb_algo lc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.5 443 {
    weight 1
    TCP_CHECK {
      connect_port 443
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}

virtual_server 65.74.181.7 80 {
  delay_loop 6
  lb_algo lc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.5 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}

#staging mongrels
virtual_server 65.74.172.5 80 {
  sorry_server 127.0.0.1 80
  delay_loop 6
  lb_algo lc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.25 80 {
    weight 1
    TCP_CHECK {
      connect_port 80
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}

#staging mongrels SSL
virtual_server 65.74.172.5 443 {
  sorry_server 127.0.0.1 443
  delay_loop 6
  lb_algo lc
  lb_kind NAT
  nat_mask 255.255.255.0
  persistence_timeout 0
  protocol TCP
  real_server 10.0.192.25 443 {
    weight 1
    TCP_CHECK {
      connect_port 443
      connect_timeout 2
      nb_get_retry 20
      delay_before_retry 2
    }
  }
}

# build slice
virtual_server 65.74.181.4 7999 {
	delay_loop 6
	lb_algo lc
	lb_kind NAT
	nat_mask 255.255.255.0
	persistence_timeout 0
	protocol TCP
	real_server 10.0.255.1 22 {
	}
}

# n00
virtual_server 65.74.181.4 7000 {
	delay_loop 6
	lb_algo lc
	lb_kind NAT
	nat_mask 255.255.255.0
	persistence_timeout 0
	protocol TCP

	real_server 10.0.0.1 22 {
	}
}

# n01
virtual_server 65.74.181.4 7001 {
	delay_loop 6
	lb_algo lc
	lb_kind NAT
	nat_mask 255.255.255.0
	persistence_timeout 0
	protocol TCP
	real_server 10.0.0.2 22 {
	}
}

# n02
virtual_server 65.74.181.4 7002 {
	delay_loop 6
	lb_algo lc
	lb_kind NAT
	nat_mask 255.255.255.0
	persistence_timeout 0
	protocol TCP

	real_server 10.0.0.3 22 {
	}
}

virtual_server 65.74.181.4 8000 {
	delay_loop 6
	lb_algo lc
	lb_kind NAT
	nat_mask 255.255.255.0
	persistence_timeout 0
	protocol TCP
	real_server 10.0.64.1 22 {
	}
}

virtual_server 65.74.181.4 8001 {
	delay_loop 6
	lb_algo lc
	lb_kind NAT
	nat_mask 255.255.255.0
	persistence_timeout 0
	protocol TCP
	real_server 10.0.64.2 22 {
	}
}

virtual_server 65.74.181.4 8002 {
	delay_loop 6
	lb_algo lc
	lb_kind NAT
	nat_mask 255.255.255.0
	persistence_timeout 0
	protocol TCP
	real_server 10.0.64.3 22 {
	}
}

virtual_server 65.74.181.4 8004 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.5 22 {
        }
}

virtual_server 65.74.181.4 8005 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.6 22 {
        }
}

virtual_server 65.74.181.4 8006 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.7 22 {
        }
}

virtual_server 65.74.181.4 8007 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.8 22 {
        }
}

virtual_server 65.74.181.4 8008 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.9 22 {
        }
}

virtual_server 65.74.181.4 8009 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.10 22 {
        }
}

virtual_server 65.74.181.4 8010 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.11 22 {
        }
}

virtual_server 65.74.181.4 8011 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.12 22 {
        }
}

virtual_server 65.74.181.4 8012 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.13 22 {
        }
}

virtual_server 65.74.181.4 8013 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.14 22 {
        }
}

virtual_server 65.74.181.4 8014 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.15 22 {
        }
}

virtual_server 65.74.181.4 8015 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.16 22 {
        }
}

virtual_server 65.74.181.4 8016 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.17 22 {
        }
}

virtual_server 65.74.181.4 8017 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.18 22 {
        }
}

virtual_server 65.74.181.4 8018 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.19 22 {
        }
}

virtual_server 65.74.181.4 8019 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.20 22 {
        }
}

virtual_server 65.74.181.4 8020 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.21 22 {
        }
}

virtual_server 65.74.181.4 8021 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.22 22 {
        }
}

virtual_server 65.74.181.4 8022 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.23 22 {
        }
}

virtual_server 65.74.181.4 8023 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.24 22 {
        }
}

virtual_server 65.74.181.4 8024 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.25 22 {
        }
}

virtual_server 65.74.181.4 8025 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.26 22 {
        }
}

virtual_server 65.74.181.4 8026 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.27 22 {
        }
}

virtual_server 65.74.181.4 8027 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.28 22 {
        }
}

virtual_server 65.74.181.4 8028 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.29 22 {
        }
}

virtual_server 65.74.181.4 8029 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.30 22 {
        }
}

virtual_server 65.74.181.4 8030 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.31 22 {
        }
}

virtual_server 65.74.181.4 8031 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.32 22 {
        }
}

virtual_server 65.74.181.4 8032 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.33 22 {
        }
}

virtual_server 65.74.181.4 8033 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.34 22 {
        }
}

virtual_server 65.74.181.4 8034 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.35 22 {
        }
}

virtual_server 65.74.181.4 8035 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.36 22 {
        }
}

virtual_server 65.74.181.4 8036 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.37 22 {
        }
}

virtual_server 65.74.181.4 8037 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.38 22 {
        }
}

virtual_server 65.74.181.4 8038 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.39 22 {
        }
}

virtual_server 65.74.181.4 8039 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.40 22 {
        }
}

virtual_server 65.74.181.4 8040 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.41 22 {
        }
}

virtual_server 65.74.181.4 8041 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.42 22 {
        }
}

virtual_server 65.74.181.4 8042 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.43 22 {
        }
}

virtual_server 65.74.181.4 8043 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.44 22 {
        }
}

virtual_server 65.74.181.4 8044 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.45 22 {
        }
}

virtual_server 65.74.181.4 8045 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.46 22 {
        }
}

virtual_server 65.74.181.4 8046 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.47 22 {
        }
}

virtual_server 65.74.181.4 8047 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.48 22 {
        }
}

virtual_server 65.74.181.4 8048 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.49 22 {
        }
}

virtual_server 65.74.181.4 8049 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.50 22 {
        }
}

virtual_server 65.74.181.4 8050 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.51 22 {
        }
}

virtual_server 65.74.181.4 8051 {
        delay_loop 6
        lb_algo lc
        lb_kind NAT
        nat_mask 255.255.255.0
        persistence_timeout 0
        protocol TCP
        real_server 10.0.64.52 22 {
        }
}

